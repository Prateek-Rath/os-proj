printf("someone asked to list all the books\n");
                sem_wait(&booksem);
                // printf("get all books will be called\n");
                char * x = getallBooks();
                printf("x is %s\n", x);
                strcpy(reply.text, "");
                strcpy(reply.text, x);
                // printf("get all books done\n");
                structstatecpy(&reply.newstate, &buf.state);
                write(newfd, &reply, sizeof(struct reply));
                printf("reply sent\n");
                // memset(x, 0, 100);
                free(x);
                sem_post(&booksem);
                break;

printf("someone wanted the list of all users\n");
                sem_wait(&usersem);
                x = listUsers();
                strcpy(reply.text, x);
                structstatecpy(&reply.newstate, &buf.state);
                write(newfd, &reply, sizeof(struct reply));
                printf("reply sent\n");
                free(x);
                sem_post(&usersem);
                break;